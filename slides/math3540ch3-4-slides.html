<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>MATH 3540 - Mathematical Finance and Interest Theory</title>
<meta name="author" content="\\
Jie Zhong \\
Department of Mathematics \\
California State University, Los Angeles"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="../dist/reveal.css"/>

<link rel="stylesheet" href="../dist/theme/serif.css" id="theme"/>

<link rel="stylesheet" href="../reveal.js-plugins/chalkboard/style.css"/>

<link rel="stylesheet" href="../reveal.js-plugins/menu/font-awesome/css/fontawesome.css"/>

<link rel="stylesheet" href="../gnohz.css"/>
<script>window.MathJax = { TeX: {Macros: {range: "\\text{Range}", ow: "\\text{otherwise}"}} }</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide">
<h1>MATH 3540 - Mathematical Finance and Interest Theory</h1><h2></h2><h6> <br />
Jie Zhong <br />
Department of Mathematics <br />
California State University, Los Angeles</h6>
</section>


<section>
<section id="slide-org68e353b">
<h2 id="org68e353b">Chapter 3 Annuities (annuities certain)</h2>
<div class="outline-text-2" id="text-org68e353b">
</div>
</section>
</section>
<section>
<section id="slide-org455561a">
<h3 id="org455561a">Introduction</h3>
<div class="outline-text-3" id="text-org455561a">
</div>
</section>
</section>
<section>
<section id="slide-org0f92331">
<h4 id="org0f92331">General terminology</h4>
<ul>
<li data-fragment-index="1" class="fragment">An <span style="color: rgb(24,116,205)">annuitiy</span> is a series of payments made at specified intervals (called <span style="color: rgb(24,116,205)">payment period</span>) for a fixed or contingent period.</li>
<li data-fragment-index="2" class="fragment">If the length of time is fixed (deterministic), then the annuity is called an <span style="color: rgb(24,116,205)">annuitiy-certain</span>.</li>
<li data-fragment-index="3" class="fragment">If not, then it is called a <span style="color: rgb(24,116,205)">contingent annuity</span>; an import example is the <span style="color: rgb(24,116,205)">life annuity</span>.</li>
<li data-fragment-index="4" class="fragment">If the length of time is deterministic and infinite, the annuity is called a <span style="color: rgb(24,116,205)">perpetuity</span>.</li>

</ul>

</section>
</section>
<section>
<section id="slide-org9071f9b">
<h3 id="org9071f9b">Annuities-immediate</h3>
<div class="outline-text-3" id="text-org9071f9b">
</div>
</section>
</section>
<section>
<section id="slide-org94be5f0">
<h4 id="org94be5f0">Definition</h4>
<ul>
<li data-fragment-index="1" class="fragment">If an annuity is such that the payments are made at the <span style="color: rgb(24,116,205)">end</span> of each payment periods, then it is called an <span style="color: rgb(24,116,205)">annuity-immediate</span>.</li>
<li data-fragment-index="2" class="fragment"><i>Caveat</i>: The terminology may seem counter-intuitive &#x2026;</li>
<li data-fragment-index="3" class="fragment">If the amount paid at the end of each period is equal to \(1\), we call this annuity the <span style="color: rgb(24,116,205)">basic annuity-immediate</span>.</li>
<li data-fragment-index="4" class="fragment">In general, if the payments are equal for all the periods of an annuity, we say that the annuity is <span style="color: rgb(24,116,205)">level</span>; otherwise, we say it is <span style="color: rgb(24,116,205)">nonlevel</span>.</li>

</ul>
</section>
</section>
<section>
<section id="slide-orgc23506f">
<h4 id="orgc23506f">Notation: Present value</h4>
<p class="fragment">
An \(n \text{-year}\) basic annuity-immediate pays \(1\) at times \(1, 2, 3, \dots, n\).
</p>
<p class="fragment">
Those payments are worth (at time \(0\)):
</p>
<div class="fragment">
\begin{align*}
 v(1)  + v(2) + v(3) + \cdots + v(n).
\end{align*}

</div>

<p class="fragment">
When we have compound interest, then \(v(t) = (1 + i)^{-t} = v^t\), and the present value becomes
</p>
<div class="fragment">
\begin{align*}
 a_{\overline{n}|i} = v + v^2 + v^3 + \cdots + v^n = \frac{1 - v^n}{i}.
\end{align*}

</div>
</section>
</section>
<section>
<section id="slide-org17b0a14">
<h4 id="org17b0a14">Notation: Accumulated value</h4>
<p class="fragment">
The accumulated value at the time of <b>the last payment</b> of all the payments made by a basic annuity-immediate lasting \(n\) periods is denoted as \(s_{\overline{n}|}\), i.e.,
</p>
<div class="fragment">
\begin{align*}
 s_{\overline{n}|}  = a(n) a_{\overline{n}|}\qquad \text{or} \qquad a_{\overline{n}|} = v(n) s_{\overline{n}|}.
\end{align*}

</div>
<p class="fragment">
When \(a(n) = (1 + i)^n\),
</p>
<div class="fragment">
\begin{align*}
 s_{\overline{n}|i}  = (1 + i)^na_{\overline{n}|i} \qquad \text{or} \qquad a_{\overline{n}|i}  = v^n s_{\overline{n}|i}.
\end{align*}

</div>
<div class="fragment">
\begin{align*}
s_{\overline{n}|i} = (1+i)^{n-1} + (1 + i)^{n-2} + \cdots + 1 = \frac{(1 +i)^n - 1}{i}.
\end{align*}

</div>


</section>
</section>
<section>
<section id="slide-org2851c66">
<h4 id="org2851c66">Example 3.2.11 - Unknown present value</h4>
<p>
Candace wishes to buy a new car. Her budget allows her to make monthly payments of \(500\), and she has saved \(1,800\) for a down payment. Candace qualifies for a 36-month auto loan which has a nominal interest rate of \(4.8\%\) convertible monthly. How expensive a car can Candace buy?
</p>

<p data-fragment-index="0" class="fragment">
<b>Solution</b>
</p>
<ul>
<li data-fragment-index="1" class="fragment">The monthly interest rate is \(\displaystyle\frac{i^{(12)}}{12} = 0.048/12 = 0.004\).</li>
<li data-fragment-index="2" class="fragment">The present value of payments: \(\displaystyle 500 a_{\overline{36}|0.004} = 500 \left[ \frac{1 - 1.004^{-36}}{0.004} \right] = 16732.94\).</li>
<li data-fragment-index="3" class="fragment">Total cost of the car: \(16732.94 + 1800=18532.94\).</li>

</ul>


</section>
</section>
<section>
<section id="slide-org4cc863e">
<h4 id="org4cc863e">Example 3.2.12 - Unknown contribution</h4>
<p>
Seth wishes to borrow \(4,400\) so he can pay his tuition. He qualifies for a two-year loan with a monthly effective interest rate of \(0.25\%\) and level payments. Find the amount of Seth&rsquo;s monthly payments under this loan.
</p>

<p data-fragment-index="0" class="fragment">
<b>Solution</b>
</p>
<ul>
<li data-fragment-index="1" class="fragment">Let \(Q\) be the monthly payment.</li>
<li data-fragment-index="2" class="fragment">The time \(0\) equation of value: \(\displaystyle 4400 = Q a_{\overline{24}|0.0025}\).</li>
<li data-fragment-index="3" class="fragment">\(\displaystyle Q = \frac{4400 \cdot 0.0025}{1 - 1.0025^{-24}} = 189.12\)</li>
<li data-fragment-index="4" class="fragment">However, \(189.12 a_{\overline{24}|0.0025} = 4400.062057114\)</li>
<li data-fragment-index="5" class="fragment">Therefore, the <b>last</b> payment should be reduced by \(\displaystyle 0.06257114(1.0025)^{24} = 0.065889578 = 0.07\).</li>

</ul>

<p data-fragment-index="6" class="fragment">
<span style="color: rgb(24,116,205)">Read:</span> Algorithm 3.2.14 and Example 3.2.15.
</p>

</section>
</section>
<section>
<section id="slide-org6c5c138">
<h4 id="org6c5c138">Example 3.2.17 - Unknown number of contributions</h4>
<p>
Hyun wishes to contribute \(100\) at the end of each month to his savings account until the account has a balance of at least \(3,000\), at which time he will buy his grandmother&rsquo;s piano. Hyun&rsquo;s savings account has an annual interest rate of \(5.4\%\) convertible monthly. How many months it will take Hyun to accumulate the needed money?
</p>

<p data-fragment-index="0" class="fragment">
<b>Solution</b>
</p>
<ul>
<li data-fragment-index="1" class="fragment">The monthly interest rate is \(0.054/12 = 0.0045\).</li>
<li data-fragment-index="2" class="fragment">Find the smallest integer \(n\) such that \(100 s_{\overline{n}|0.0045} \ge 3000\).</li>
<li data-fragment-index="3" class="fragment">Equivalently, \(\displaystyle \frac{1.0045^n - 1}{0.0045} \ge 30\), and thus \(\displaystyle n\ge \frac{\ln 1.135}{\ln 1.0045} = 28.2\).</li>
<li data-fragment-index="4" class="fragment">Therefore, \(n = 29\).</li>

</ul>


</section>
</section>
<section>
<section id="slide-orgafd3293">
<h4 id="orgafd3293">Relationship between the present and future values</h4>
<div>
\begin{align*}
 i + \frac{1}{s_{\overline{n}|i}} = \frac{1}{a_{\overline{n}|i}}.
\end{align*}

</div>
<p class="fragment">
<b>Why</b>?
</p>

<p class="fragment">
Mathematically,
</p>
<div class="fragment">
\begin{align*}
 i + \frac{1}{s_{\overline{n}|i}}
& = i + \frac{i}{(1 + i)^n - 1} = i \cdot \left[ 1 + \frac{1}{(1 + i)^n - 1} \right]\\
& = i \cdot \frac{(1 + i)^n}{(1 + i)^n -1} = i\cdot \frac{1}{1 - v^n}= \frac{1}{a_{\overline{n}|i}}.
\end{align*}

</div>

<p class="fragment">
<span style="color: rgb(24,116,205)">Intuitive interpretation?</span>
</p>
</section>
</section>
<section>
<section id="slide-org6d4b609">
<h4 id="org6d4b609">Loan repayment</h4>
<p class="fragment">
Consider a loan of amount \(L\) to be repaid at the end of \(n\) periods, and let \(i\) be the effective interest rate per period.
</p>

<p class="fragment">
Then we can setup a repayment schedule as a level annuity-immediate with the level payment
</p>
<div class="fragment">
\begin{align*}
 Q_1 = \frac{L}{a_{\overline{n}|i}}.
\end{align*}

</div>

</section>
</section>
<section>
<section id="slide-org74c6c7a">
<h4 id="org74c6c7a">Loan repayment - another way</h4>
<p>
This time we repay the loan \(L\) as follows:
</p>
<ul>
<li data-fragment-index="1" class="fragment">at the end of each period the interest accrued is repaid</li>
<li data-fragment-index="2" class="fragment">the entire principal is repaid at the end of \(n\) periods.</li>

</ul>

<p data-fragment-index="3" class="fragment">
In order to be able to repay the entire principal at the end of \(n\) periods, we should make a level payment of \(L/s_{\overline{n}|i}\) at the end of every period.
</p>

<p data-fragment-index="4" class="fragment">
Together with the interest \(L\cdot i\) paid at the end of every period, we totally pay
</p>
<div data-fragment-index="5" class="fragment">
\begin{align*}
 Q_2 = L \left( i + \frac{1}{s_{\overline{n}|i}} \right).
\end{align*}

</div>

<p data-fragment-index="6" class="fragment">
The two payments \(Q_1\) and \(Q_2\) should be equal, we arrive at the desired equality.
</p>

</section>
</section>
<section>
<section id="slide-orgc679547">
<h3 id="orgc679547">Annuities-due</h3>
<div class="outline-text-3" id="text-orgc679547">
</div>
</section>
</section>
<section>
<section id="slide-org26735a3">
<h4 id="org26735a3">Notation: Present value</h4>
<p class="fragment">
An \(n \text{-year}\) basic annuity-due pays \(1\) at times \(0, 1, 2, \dots, n-1\).
Those payments are worth (at time \(0\)):
</p>
<div class="fragment">
\begin{align*}
 v(0)  + v(1) + v(2) + \cdots + v(n-1).
\end{align*}

</div>

<p class="fragment">
When we have compound interest, then \(v(t) = (1 + i)^{-t} = v^t\), and the present value becomes
</p>
<div class="fragment">
\begin{align*}
 \ddot{a}_{\overline{n}|i} = 1 + v + v^2 + \cdots + v^{n-1} = \frac{1 - v^n}{1 - v} = \frac{1 - v^n}{d}.
\end{align*}

</div>
</section>
</section>
<section>
<section id="slide-org5926c9e">
<h4 id="org5926c9e">Notation: Accumulated value</h4>
<p class="fragment">
The accumulated value at the time \(n\) of all the payments made by a basic annuity-due lasting \(n\) periods is denoted as \(\ddot{s}_{\overline{n}|}\), i.e.,
</p>
<div class="fragment">
\begin{align*}
 \ddot{s}_{\overline{n}|}  = a(n) \ddot{a}_{\overline{n}|}\qquad \text{or} \qquad \ddot{a}_{\overline{n}|} = v(n) \ddot{s}_{\overline{n}|}.
\end{align*}

</div>
<p class="fragment">
When \(a(n) = (1 + i)^n\),
</p>
<div class="fragment">
\begin{align*}
 \ddot{s}_{\overline{n}|i}  = (1 + i)^n \ddot{a}_{\overline{n}|i} \qquad \text{or} \qquad \ddot{a}_{\overline{n}|i}  = v^n \ddot{s}_{\overline{n}|i}.
\end{align*}

</div>
<div class="fragment">
\begin{align*}
\ddot{s}_{\overline{n}|i} = (1+i)^n + (1 + i)^{n-1} + \cdots + (1+i) = \frac{(1 +i)^n - 1}{d}.
\end{align*}

</div>


</section>
</section>
<section>
<section id="slide-org4c5e9a7">
<h4 id="org4c5e9a7">Connection between &ldquo;due&rdquo; and &ldquo;immediate&rdquo;</h4>
<p class="fragment">
The most basic relationship is obtained through discounting
</p>
<div class="fragment">
\begin{align*}
 \ddot{a}_{\overline{n}|i}  = (1 + i) a_{\overline{n}|i} \qquad \text{and}\qquad
 \ddot{s}_{\overline{n}|i}  = (1 + i) s_{\overline{n}|i}.
\end{align*}

</div>

<p class="fragment">
The other basic relationship is obtained by &ldquo;shifting the time&rdquo; by one
</p>
<div class="fragment">
\begin{align*}
  \ddot{a}_{\overline{n}|i}  = 1 + a_{\overline{n-1}|i} \qquad \text{and}\qquad
 \ddot{s}_{\overline{n}|i} + 1  = s_{\overline{n+1}|i}.
\end{align*}

</div>
</section>
</section>
<section>
<section id="slide-org491c46e">
<h4 id="org491c46e">Example 3.3.11</h4>
<p>
During 1998, Omar had a dividend payment of \(100\) directly deposited to his savings account on the first day of each month. Find the accumulated value of these payments at the end of the year if his savings account had a nominal discount rate of \(4.8\%\) payable monthly.
</p>

<p data-fragment-index="0" class="fragment">
<b>Solution</b>
</p>
<ul>
<li data-fragment-index="1" class="fragment">The monthly discount rate is \(0.048/12 = 0.004\).</li>
<li data-fragment-index="2" class="fragment">The equivalent monthly interest rate is \(\displaystyle \frac{0.004}{1 - 0.004} = \frac{4}{996}\).</li>
<li data-fragment-index="3" class="fragment">The accumulated value at the end of the year is \(\displaystyle 100 \ddot{s}_{\overline{12}|\frac{4}{996}} = 100 \left[ \frac{\left( \frac{1000}{996} \right)^{12} - 1}{0.004} \right] = 1231.79\).</li>

</ul>
</section>
</section>
<section>
<section id="slide-org3ec4fec">
<h3 id="org3ec4fec">Perpetuities</h3>
<div class="outline-text-3" id="text-org3ec4fec">
</div>
</section>
</section>
<section>
<section id="slide-org866e48b">
<h4 id="org866e48b">Definitions</h4>
<p>
Recall \(\displaystyle  a_{\overline{n}|i} = \frac{1 - v^n}{i}, \quad \ddot{a}_{\overline{n}|i} = \frac{1 - v^n}{d}\).
</p>
<p class="fragment">
As we take the limit as \(n\to\infty\), we
</p>
<div class="fragment">
\begin{align*}
  a_{\overline{\infty}|i} = \frac{1}{i},
\end{align*}

</div>
<p class="fragment">
called the present value of a <span style="color: rgb(24,116,205)">basic perpetuity-immediate</span>; and
</p>
<div class="fragment">
\begin{align*}
  \ddot{a}_{\overline{\infty}|i} = \frac{1}{d},
\end{align*}

</div>
<p class="fragment">
called the present value of a <span style="color: rgb(24,116,205)">basic perpetuity-due</span>.
</p>

<p class="fragment">
It is quite straightforward that \(a_{\overline{\infty}|} = \ddot{a}_{\overline{\infty}|}-1\).
</p>
</section>
</section>
<section>
<section id="slide-orgf05ef8b">
<h4 id="orgf05ef8b">Example 3.4.7</h4>
<p>
Norman wishes to leave an inheritance to three charities. The total inheritance is a series of level payments at the beginning of each year forever. He wishes charities \(A\) and \(B\) (which support medical research) to share the payments equally for ten years, and then all payments revert to charity \(C\) (that helps needy children). If the shares received by all three charities have the same value at the time of the bequest, find the annual effective interest rate \(i\).
</p>

</section>
</section>
<section>
<section id="slide-org78edbf1">
<h4 id="org78edbf1">Example 3.4.7 - Solution</h4>
<p class="fragment">
Let \(P\) denote the payment at the beginning of each year.
</p>
<p class="fragment">
Then the charity \(A\) has the value at time \(0\):
</p>
<div class="fragment">
\begin{align*}
  \frac{P}{2} \ddot{a}_{\overline{10}|i} = \frac{P}{2}\left( \frac{1-v^{10}}{d} \right),
\end{align*}

</div>
<p class="fragment">
and the charity \(C\) has the value at time \(0\): \(\displaystyle   \frac{P}{d} v^{10}\).
</p>
<p class="fragment">
Since all charities have the same value at time \(0\), we have
</p>
<div class="fragment">
\begin{align*}
  \frac{P}{2}\left( \frac{1-v^{10}}{d} \right) =
  \frac{P}{d} v^{10},
\end{align*}

</div>
<p class="fragment">
which give \(v^{10}=1/3\), and thus \(i = v^{-1} -1 = 0.116123174\).
</p>

</section>
</section>
<section>
<section id="slide-orge5af1cc">
<h3 id="orge5af1cc">Deferred Annuities Certain</h3>
<p>
Self-study, work on Example 3.5.1 - 4.
</p>

<p>
In particular, the idea of <i>imaginary payments</i>.
</p>
</section>
</section>
<section>
<section id="slide-orga444038">
<h3 id="orga444038">Outstanding Loan Balances and Nonlevel Annuities</h3>
<p class="fragment">
A loan of amount L is to be repaid at the end of n time periods by payments at the end of each period. These payments are to be level except for a slightly reduced final payment if need be.
</p>

<p class="fragment">
We now consider the important question of how to find the <span style="color: rgb(24,116,205)">loan balanace</span> at an intermediate date between the loan origination date and the date of the final payment.
</p>
</section>
</section>
<section>
<section id="slide-org87528db">
<h4 id="org87528db">Retrospective method</h4>
<p class="fragment">
If \(OLB_k\) denotes the loan-balance at the end of \(k\) payment period, just after any time \(k\) payment, and \(Q\) denotes the amount  of each of the first \(k\) payments, then
</p>
<div class="fragment">
\begin{align*}
  OLB_k = L a(k) - Q s_{\overline{k}|}.
\end{align*}

</div>
<p class="fragment">
In particular, \(a(t) = (1 + i)^t\), then
</p>
<div class="fragment">
\begin{align*}
  OLB_k = L(1 + i)^k - Q s_{\overline{k}|i}.
\end{align*}

</div>
<p class="fragment">
This method of &ldquo;look back&rdquo;, i.e., of looking how much one has repaid until time \(k\) when determining the loan-balance is called the <span style="color: rgb(24,116,205)">retrospective method</span>.
</p>

</section>
</section>
<section>
<section id="slide-org3df57f3">
<h4 id="org3df57f3">An Example</h4>
<p>
A loan is being repaid with \(10\) payments of \(2,000\) each followed by \(10\) payments of \(1,000\) each <b>all</b> at the end of each half-year. Assume that the nominal rate of interest convertible semiannually equals \(i^{(2)} = 10\%\).
</p>

<p class="fragment">
Find the outstanding loan balance immediately after the fifth payment is made.
</p>

<p class="fragment">
<b>Note</b>: This is a <span style="color: rgb(24,116,205)">nonlevel annuity</span> problem, and we discuss more in Sec 3.8 and 3.9.
</p>

</section>
</section>
<section>
<section id="slide-orgd0a1d60">
<h4 id="orgd0a1d60">An Example - Solution</h4>
<p>
Recall the formula
</p>
<div class="fragment">
\begin{align*}
  OLB_k = L(1 + i)^k - Q s_{\overline{k}|i},
\end{align*}

</div>
<p class="fragment">
and let the basic time unit be a half-year.
</p>
<p class="fragment">
Then, we have \(k = 10, Q = 2000, i = 0.05\), but the loan amount \(L\) is to be determined.
</p>
<p class="fragment">
In fact,
</p>
<div class="fragment">
\begin{align*}
  L & = 2000 a_{\overline{10}|0.05} + 1000 (a_{\overline{20}|0.05}  - a_{\overline{10}|0.05} )\\
& = 1000(a_{\overline{20}|0.05} + a_{\overline{10}|0.05}) = 20183.945272
\end{align*}

</div>
</section>
</section>
<section>
<section id="slide-orgd6b908d">
<h4 id="orgd6b908d">An Example - Solution (Continued)</h4>
<p>
So,
</p>
<div class="fragment">
\begin{align*}
  OLB_5 = L(1.05)^5 - 2000 s_{\overline{5}|0.05} = 14709.13.
\end{align*}

</div>
<p class="fragment">
<b>Note</b>:
</p>
<div class="fragment">
\begin{align*}
  a_{\overline{20}|0.05}  - a_{\overline{10}|0.05} = a_{\overline{10}|0.05}v^5.
\end{align*}

</div>
<p class="fragment">
Again, please read Example 3.5.1, 3.5.2.
</p>
</section>
</section>
<section>
<section id="slide-org781625e">
<h4 id="org781625e">Prospective method</h4>
<p>
Contrary to the retrospective method, the <span style="color: rgb(24,116,205)">propspective method</span> is based on &ldquo;looking into the future&rdquo;, i.e., evaluating the value of remaining payments.
</p>

<p class="fragment">
If \(a(t) = (1 +i)^t\), we have
</p>
<div class="fragment">
\begin{align*}
 OLB_k = Q a_{\overline{n-k-1}|i} + R (1 + i)^{-(n-k)},
\end{align*}

</div>
<p class="fragment">
where \(Q\) denotes the level amount of all but the last payment and \(R\) the amount in the last payment.
</p>

<p class="fragment">
If \(Q = R\), then the equation is reduced to
</p>
<div class="fragment">
\begin{align*}
  OLB_k = Q a_{\overline{n-k}|i}.
\end{align*}

</div>


</section>
</section>
<section>
<section id="slide-org384b0e2">
<h4 id="org384b0e2">An Example</h4>
<p>
A loan is being repaid with \(20\) annual payments of \(1000\) each. At the time of the fifth payment, the borrow wishes to repay an extra \(2,000\) and then repay the balance using level annual payments over the next 12 years.
</p>

<p class="fragment">
Note that due to the extra \(2000\) repaid at time \(5\), the level payments that are supposed to be made over those \(12\) years need to be <b>revised</b>. Assume that the effective rate of interest is \(9\%\).
</p>

<p class="fragment">
Find the amount of the revised annual payment.
</p>

</section>
</section>
<section>
<section id="slide-org1b60b13">
<h4 id="org1b60b13">An Example - Solution</h4>
<p>
Using the prospective method, the balance of the loan after the first \(5\) years is
</p>
<div class="fragment">
\begin{align*}
  OLB_5 = 1000 a_{\overline{15}|0.09} = 8060.69.
\end{align*}

</div>
<p class="fragment">
Thus, after the extra \(2,000\) are repaid, the outstanding loan balance becomes \(6,060.69\).
</p>
<p class="fragment">
Denote \(X\) by the revised level payment amount, then
</p>
<div class="fragment">
\begin{align*}
  X a_{\overline{12}|0.09} = 6060.69 \Longrightarrow X = \frac{6060.69}{a_{\overline{12}|0.09}} = 846.38.
\end{align*}

</div>


</section>
</section>
<section>
<section id="slide-org69eeece">
<h4 id="org69eeece">Which method should we use?</h4>
<p data-fragment-index="0" class="fragment">
The answer depends on the context:
</p>
<ul>
<li data-fragment-index="1" class="fragment">If the payments before time \(k\) are level, while the last payment is irregular, then it is better to use the retrospective method.</li>
<li data-fragment-index="2" class="fragment">If you not know the total number of payments \(n\), again, you use the retrospective method.</li>
<li data-fragment-index="3" class="fragment">If the last payment is also level and you know \(n\), use the prospective method.</li>

</ul>

<p data-fragment-index="4" class="fragment">
<span style="color: rgb(24,116,205)">Read:</span> Example 3.6.5-7, and 3.6.9-10.
</p>

</section>
</section>
<section>
<section id="slide-orgac76813">
<h4 id="orgac76813">Amount of principal paid</h4>
<p>
The <span style="color: rgb(24,116,205)">amount of principal paid</span> in any time period \([m, n]\) is
</p>
<div class="fragment">
\begin{align*}
  OLB_{m} - OLB_n.
\end{align*}

</div>

<p class="fragment">
The <span style="color: rgb(24,116,205)">amount of interest paid</span> in any time period \([m, n]\) is obtained by subtracting the amount of principal paid from the total amount paid during the period \([m, n]\).
</p>
</section>
</section>
<section>
<section id="slide-orgd985b0b">
<h4 id="orgd985b0b">An Example</h4>
<p>
A loan is to be repaid by annual payments \(P\) at the end of each year for \(10\) years. You are giving the following:
</p>
<p class="fragment">
(1) The amount of principal paid over the first \(3\) years is \(290.35\).
</p>
<p class="fragment">
(2) The amount of principal paid over the last \(3\) years is \(408.55\).
</p>

<p class="fragment">
Find the total amount of interest paid during the loan term.
</p>

</section>
</section>
<section>
<section id="slide-orge398006">
<h4 id="orge398006">An Example - Solution</h4>
<p>
Let \(L\) denote the loan amount, and let \(I\) denote the total amount of interest paid. Then,
</p>
<div class="fragment">
\begin{align*}
  I = 10 P - L.
\end{align*}

</div>

<p class="fragment">
The amount of principal paid over the first \(3\) years is
</p>
<div class="fragment">
\begin{align*}
  OLB_0 - OLB_3
& = P(v + v^2 + \cdots v^{10}) - P(v + v^2 + \cdots + v^7)\\
& = P(v^8 + v^9 + v^{10}) = 290.35.
\end{align*}

</div>

<p class="fragment">
The amount of principal paid over the first \(3\) years is
</p>
<div class="fragment">
\begin{align*}
  OLB_7 - OLB_{10}
 = P(v + v^2 + v^3) - 0 = P(v + v^2 + v^3) = 408.55.
\end{align*}

</div>
<p class="fragment">
Dividing the above two equation, we have  \(\displaystyle v^7 = \frac{290.35}{408.55} \Rightarrow i = 0.05\).
</p>

</section>
</section>
<section>
<section id="slide-org948b4ad">
<h4 id="org948b4ad">An Example - Solution (Continued)</h4>
<p>
Now let&rsquo;s find \(P\) and \(L\).
</p>

<p class="fragment">
Using the condition (2) again, we get
</p>
<div class="fragment">
\begin{align*}
  P = \frac{408.55}{v+ v^2 + v^3} = \frac{408.55}{2.7234} = 150.02.
\end{align*}

</div>
<p class="fragment">
Hence,
</p>
<div class="fragment">
\begin{align*}
  L = P a_{\overline{10}|0.05} = 1158.44.
\end{align*}

</div>
<p class="fragment">
Finally, the amount of interest paid is
</p>
<div class="fragment">
\begin{align*}
  10 \cdot 150.02 - 1158.44 = 341.66.
\end{align*}

</div>

</section>
</section>
<section>
<section id="slide-orgac72c2e">
<h3 id="orgac72c2e">Annuities with Payments in Geometric Progression</h3>
<div class="outline-text-3" id="text-orgac72c2e">
</div>
</section>
</section>
<section>
<section id="slide-org566ff28">
<h4 id="org566ff28">An Example</h4>
<p>
Assume that an annuity-immediate provides \(20\) annual payments: the first payment being \(1,000\). The payments increase in such a way that each payment is \(4\%\) greater than the preceding payment.
</p>

<p class="fragment">
Find the present value of this annuity at an annual effective rate of interest of \(7\%\).
</p>

<p class="fragment">
<b>Answer</b>
</p>
<div class="fragment">
\begin{align*}
  1000 \cdot \frac{1 - \left( \frac{1 + 0.04}{1 + 0.07} \right)^{20}}{0.07 - 0.04} = 14459.
\end{align*}

</div>

<p class="fragment">
<b>How</b>?
</p>
</section>
</section>
<section>
<section id="slide-org2fa22b4">
<h4 id="org2fa22b4">Geometrically Increasing Annuities</h4>
<p>
Let \(n\) denote the number of periods.
For simplicity, assume that the first payment is equal to \(1\), and let all subsequent payments increase in <span style="color: rgb(24,116,205)">geometric progression</span> with the common ratio equal to \(1 + g\).
</p>
<p class="fragment">
Then, the present value of this non-level annuity equals
</p>
<div class="fragment">
\begin{align*}
  PV & = v + v^2(1 + g) + v^3(1 + g)^2 + \cdots + v^n(1 + g)^{n-1}\\
& = \frac{v [1 - (v(1 + g))^n]}{1 - v(1 + g)}\\
& = \frac{1 - \left( \frac{1 + g}{1 + i} \right)^n}{i - g}.
\end{align*}

</div>
</section>
</section>
<section>
<section id="slide-org0e1c1dd">
<h4 id="org0e1c1dd">A Simplifying Formula</h4>
<p class="fragment">
Let us revisit the formula previously,
</p>
<div class="fragment">
\begin{align*}
  PV = \frac{1 - \left( \frac{1 + g}{1 + i} \right)^n}{i - g}.
\end{align*}

</div>
<p class="fragment">
Define \(j = (i - g)/(1 + g)\). Then, we can express the above present value as
</p>
<div class="fragment">
\begin{align*}
  PV = (1 + i)^{-1} \cdot \ddot{a}_{\overline{n}|j} = \frac{1 + j}{1 + i}a_{\overline{n}|j}.
\end{align*}

</div>

<p class="fragment">
In particular, if \(i = g\), i.e., the increase in the payment exactly offsets the interest rate, then the present value becomes
</p>
<div class="fragment">
\begin{align*}
 \frac{n}{1 + i}.
\end{align*}

</div>
</section>
</section>
<section>
<section id="slide-orgd7b359b">
<h4 id="orgd7b359b">Example - \(i > g\)</h4>
<p data-fragment-index="0" class="fragment">
You purchase an annuity-immediate with 25 annual payments. The first payment is \(800\) and the payments increase by \(3\%\) each year. Using an annual interest rate of \(7\%\), calculate the present value of this annuity.
</p>

<p data-fragment-index="1" class="fragment">
<b>Solution</b>
</p>
<ul>
<li data-fragment-index="2" class="fragment">\(n = 25, i = 0.07, g = 0.03\)</li>
<li data-fragment-index="3" class="fragment">\(j = (i - g)/(1 + g) = 0.038834951\)</li>
<li data-fragment-index="4" class="fragment">The present value is \(\displaystyle 800 \cdot \frac{1.03}{1.07} a_{\overline{25}|0.038834951} = 12,284.46\).</li>

</ul>
<p data-fragment-index="5" class="fragment">
<span style="color: rgb(255,0,0)">Warning:</span> Keep as many decimals as possible for \(j\).
</p>
</section>
</section>
<section>
<section id="slide-org8970d97">
<h4 id="org8970d97">Example - \(i < g\)</h4>
<p data-fragment-index="0" class="fragment">
You purchase an annuity-immediate with 25 annual payments. The first payment is \(800\) and the payments increase by \(3\%\) each year. Using an annual interest rate of \(1\%\), calculate the present value of this annuity.
</p>

<p data-fragment-index="1" class="fragment">
<b>Solution</b>
</p>
<ul>
<li data-fragment-index="2" class="fragment">\(n = 25, i = 0.01, g = 0.03\)</li>
<li data-fragment-index="3" class="fragment">\(j = (i - g)/(1 + g) = -0.0194174757\)</li>
<li data-fragment-index="4" class="fragment">The present value is \(\displaystyle 800 \cdot \frac{0.9805825243}{1.01} a_{\overline{25}|-0.0194174757} = 25406.48\).</li>

</ul>

</section>
</section>
<section>
<section id="slide-orga314e80">
<h4 id="orga314e80">Example - \(i = g\)</h4>
<p class="fragment">
You purchase an annuity-immediate with 25 annual payments. The first payment is \(800\) and the payments increase by \(3\%\) each year. Using an annual interest rate of \(3\%\), calculate the present value of this annuity.
</p>

<p class="fragment">
<b>Solution</b>
</p>
<p class="fragment">
If \(g = i\), in general we have
</p>
<div class="fragment">
  \begin{align*}
  &  v + v^2(1 + g) + v^3(1 + g)^2 + \cdots + v^n(1 + g)^{n-1}\\
 =\, & v + v + \cdots v = n v = \frac{n}{1 + i}.
\end{align*}

</div>
<p class="fragment">
So in this example, the present value is
</p>
<div class="fragment">
\begin{align*}
 800 \cdot \frac{25}{1.03} = 19,417.48.
\end{align*}

</div>
</section>
</section>
<section>
<section id="slide-orgd8d6673">
<h4 id="orgd8d6673">Geometrically Increasing Perpetuities</h4>
<p class="fragment">
The present value of a perpetuity which pays \(P\) at time 1 and \(P(1 + g)^{k-1}\) at time \(k \ge 1\) is:
</p>
<div class="fragment">
\begin{align*}
 \lim_{n\to \infty} \frac{P \left[ 1 - \left( \frac{1 + g}{1 + i} \right)^n \right]}{i - g} = \frac{P}{i - g}, \quad \text{for } i > g.
\end{align*}

</div>

<p class="fragment">
If \(g \ge i\), the present value is <b>infinite</b> because the future payments will be worth at least as much as the earlier payments.
</p>

<p class="fragment">
<span style="color: rgb(24,116,205)">Read:</span>
Example 3.8.3
</p>

</section>
</section>
<section>
<section id="slide-org942b575">
<h3 id="org942b575">Annuities with Payments in Arithmetic Progression</h3>
<div class="outline-text-3" id="text-org942b575">
</div>
</section>
</section>
<section>
<section id="slide-org2d046d9">
<h4 id="org2d046d9">Notations</h4>
<ul>
<li data-fragment-index="1" class="fragment">\(n\): the number of time periods for the annuity-immediate.</li>
<li data-fragment-index="2" class="fragment">\(P\): the value of the <b>first</b> payment.</li>
<li data-fragment-index="3" class="fragment">\(Q\): the amount by which the payment per period <b>increases</b>.</li>
<li data-fragment-index="4" class="fragment">The payment at the end of the \(j^{\text{th}}\) period: \(P+Q(j-1)\).</li>
<li data-fragment-index="5" class="fragment">\((I_{P,Q} a)_{\overline{n}|i}\): the present value of the annuity described above.</li>
<li data-fragment-index="6" class="fragment">\((I_{P,Q} s)_{\overline{n}|i}\): the accumulated value at the time of the last payment of the annuity described above.</li>

</ul>
</section>
</section>
<section>
<section id="slide-org2766e53">
<h4 id="org2766e53">Formulas for Accumulated and Present Values</h4>
<p>
Consider an annuity lasting \(n\) periods with a payment of \(P + Q(j-1)\) at the end of the \(j^{\text{th}}\) period, then
</p>
<div class="fragment">
\begin{align*}
  (I_{P,Q} s)_{\overline{n}|i} = P s_{\overline{n}|i} + \frac{Q}{i}(s_{\overline{n}|i} - n).
\end{align*}

</div>
<p class="fragment">
Multiplying by \(v^n\),
</p>
<div class="fragment">
\begin{align*}
  (I_{P,Q} a)_{\overline{n}|i} = P a_{\overline{n}|i} + \frac{Q}{i}(a_{\overline{n}|i} - n v^n).
\end{align*}

</div>

<p class="fragment">
<b>How</b>? Read page 158-160.
</p>

</section>
</section>
<section>
<section id="slide-org975f8ec">
<h4 id="org975f8ec">Special Cases</h4>
<p class="fragment">
When \(P = Q = 1\), i.e, the sequence of payments is \(1, 2, \dots, n\), we can simply drop the \(P\) and \(Q\),
</p>
<div class="fragment">
\begin{align*}
 (Is)_{\overline{n}|i}  = \frac{s_{\overline{n+1}|i} - (n+1)}{i} = \frac{\ddot{s}_{\overline{n}|i} - n}{i}.
\end{align*}

</div>
<p class="fragment">
Again multiplying by \(v^n\), \(\displaystyle (Ia)_{\overline{n}|i}  = \frac{\ddot{a}_{\overline{n}|i} - n v^n}{i}\).
</p>
<p class="fragment">
When \(P = n\) and \(Q = -1\), i.e., the sequence of payments is \(n, n-1, \dots, 1\), we modify the notation to stress that the annuity is <b>decreasing</b> and we have
</p>
<div class="fragment">
\begin{align*}
 (Ds)_{\overline{n}|i}  = \frac{n(1+i)^n - s_{\overline{n}|i}}{i}\quad \text{and} \quad (Da)_{\overline{n}|i}  = \frac{n - a_{\overline{n}|i}}{i}.
\end{align*}

</div>
</section>
</section>
<section>
<section id="slide-org17dee71">
<h4 id="org17dee71">Example 3.9.8</h4>
<p>
Susan receives an annuity for her eighteenth birthday. The annuity pays \(2,000\) on her nineteenth birthday and then has an annual payment on each of her birthdays through her thirty-fifth birthday. Each year the payments increase by \(500\). Find the value of the annuity on Susan&rsquo;s eighteenth birthday, assuming the annual effective rate of interest is \(4.2\%\).
</p>

<p class="fragment">
<b>Solution</b>
</p>
<p class="fragment">
The desired value is
</p>
<div class="fragment">
\begin{align*}
 (I_{2000, 500} a)_{\overline{17}|0.042}
& = 2000 a_{\overline{17}|0.042} + \frac{500}{0.042} (a_{\overline{17}|0.042} - 17(1.042)^{-17}) \\
& = 23958.24444 + 42050.1836 = 66008.43.
\end{align*}

</div>

<p class="fragment">
<span style="color: rgb(24,116,205)">Read:</span>
Example 3.9.9
</p>
</section>
</section>
</div>
</div>
<script src="../dist/reveal.js"></script>
<script src="../plugin/markdown/markdown.js"></script>
<script src="../plugin/notes/notes.js"></script>
<script src="../plugin/search/search.js"></script>
<script src="../plugin/zoom/zoom.js"></script>
<script src="../plugin/reveal.js-menu/menu.js"></script>
<script src="../reveal.js-plugins/chalkboard/plugin.js"></script>
<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({

controls: true,
progress: true,
history: false,
center: true,
slideNumber: false,
rollingLinks: false,
keyboard: true,
mouseWheel: false,
fragmentInURL: false,
hashOneBasedIndex: false,
pdfSeparateFragments: true,
overview: true,

transition: 'none',
transitionSpeed: 'default',

// Plugins with reveal.js 4.x
plugins: [ RevealMarkdown, RevealNotes, RevealSearch, RevealZoom, RevealMenu, RevealChalkboard ],

// Optional libraries used to extend reveal.js
dependencies: [
]

,chalkboard: {src: "chalkboard/chalkboard.json", storage: "chalkboard-demo", toggleChalkboardButton: { left: "80px" },	toggleNotesButton: { left: "130px" },	colorButtons: 5}});
</script>
</body>
</html>
